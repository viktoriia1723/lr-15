import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

def analyze_bike_data():
    # Завантаження даних (приклад структури даних за 2014 рік)
    data = {
        'Місяць': ['Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень', 
                   'Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'],
        'Кількість_велосипедистів': [1200, 1500, 2800, 5600, 8900, 12500, 
                                    15800, 14900, 9800, 4500, 2200, 1100],
        'Середня_температура': [-5, -3, 2, 8, 15, 20, 23, 22, 17, 10, 4, -2],
        'Кількість_дощових_днів': [8, 7, 9, 11, 12, 10, 8, 9, 10, 12, 11, 9]
    }
    
    df = pd.DataFrame(data)
    
    # Аналіз даних
    print("Статистика по місяцях:")
    print(df.describe())
    
    # Знаходження найпопулярнішого місяця
    most_popular = df.loc[df['Кількість_велосипедистів'].idxmax()]
    print(f"\nНайпопулярніший місяць: {most_popular['Місяць']}")
    print(f"Кількість велосипедистів: {most_popular['Кількість_велосипедистів']}")
    
    # Візуалізація даних
    plt.figure(figsize=(15, 5))
    
    # Графік кількості велосипедистів
    plt.subplot(131)
    plt.plot(df['Місяць'], df['Кількість_велосипедистів'], marker='o')
    plt.title('Кількість велосипедистів за місяцями')
    plt.xticks(rotation=45)
    plt.grid(True)
    
    # Коробковий графік
    plt.subplot(132)
    sns.boxplot(data=df, y='Кількість_велосипедистів')
    plt.title('Розподіл кількості велосипедистів')
    
    # Кореляція з температурою
    plt.subplot(133)
    plt.scatter(df['Середня_температура'], df['Кількість_велосипедистів'])
    plt.xlabel('Середня температура')
    plt.ylabel('Кількість велосипедистів')
    plt.title('Залежність від температури')
    plt.grid(True)
    
    plt.tight_layout()
    plt.show()
    
    # Додатковий аналіз
    correlation = df['Кількість_велосипедистів'].corr(df['Середня_температура'])
    print(f"\nКореляція між кількістю велосипедистів та температурою: {correlation:.2f}")

analyze_bike_data()